{% extends 'base.html' %}
<head>
  <!-- The stuff to do with the X-ray plot -->

<link
    href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.2.0/bokeh.min.css"
    rel="stylesheet" type="text/css">
<link
    href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.2.0/bokeh-widgets.css"
    rel="stylesheet" type="text/css">
<link
    href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.2.0/bokeh-tables.css"
    rel="stylesheet" type="text/css">

</head>
<body>


<!-- Get the sources for each piece of the data -->
<!-- First we get all the references -->

<!--The page title -->
<!-- This will be the name of the GRB and an associated SN if applicable -->
{% block title %} 
{% if event[0]['SNe'] == None %}
  <h2> <b>GRB{{ event[0]['GRB']}} / No SN Name (Photometric only) </b></h2>
{% else %}
  <h2> <b>GRB{{ event[0]['GRB']}} / SN{{ event[0]['SNe'] }} </b></h2>
{% endif %}
{% endblock %}

{% block content %}
<div>
    <table style="width:40%">
  <tr>
    <th>GRB Parameter</th>
    <th>Value</th>
    <th>Unit</th> 
  </tr>
  <tr>
    <td>E$_{iso}$</td>
    
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['e_iso'] != None %}
          {{ event[i]['e_iso'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup> <br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td> 

    <td>erg</td>
  </tr>
 
  <tr>
    <td>E$_p$</td>
    <td>{% for i in range(event|length) %}
        {% if event[i]['E_p'] != None %}
          {{ event[i]['E_p'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>keV</td> 
  </tr>
  <tr>
    <td>z</td>
    <td>
    {% for i in range(event|length) %}
        {% if event[i]['z'] != None %}
          {{ event[i]['z'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td></td> 
  </tr>
  <tr>
    <td>T$_{90}$</td>
    <td>
    {% for i in range(event|length) %}
        {% if event[i]['T90'] != None %}
          {{ event[i]['T90'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>sec</td> 
  </tr>
  <tr>
    <td>p</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['p'] != None %}
          {{ event[i]['p'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td></td> 
  </tr>
  <tr>
    <td>n</td>
    <td> 
      {% for i in range(event|length) %}
        {% if event[i]['n'] != None %}
          {{ event[i]['n'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>cm$^{-3}$</td> 
  </tr>
  <tr>
    <td>$\theta_{jet}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['open_deg'] != None %}
          {{ event[i]['open_deg'] }}<sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>degrees</td> 
  </tr>
</table>


<table style="width:40%">
 <tr>
    <th>SN Parameter</th>
    <th>Value</th>
    <th>Unit</th> 
  </tr>
  <tr>
    <td>E$_k$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['E_k'] != None %}
          {{ event[i]['E_k'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>erg</td> 
  </tr>
  <tr>
    <td>M$_{Ni}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['ni_m'] != None %}
          {{ event[i]['ni_m'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>M$_{\odot}$</td> 
  </tr>
  <tr>
    <td>M$_{Ej}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['ej_m'] != None %}
          {{ event[i]['ej_m'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>M$_{\odot}$</td> 
  </tr>
  <tr>
    <td>t$_{peak}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['t_peak'] != None %}
          {{ event[i]['t_peak'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>days (rest frame I think but need to make sure)</td> 
  </tr>
  <tr>
    <td>Peak $m_V$ (set it so the band will change if needed)</td>
    <td></td>
    <td>Unavailable yet</td> 
  </tr>
  <tr>
    <td>v$_{photospheric}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['v_photospheric'] != None %}
          {{ event[i]['v_photospheric'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>km s$^{-1}$</td> 
  </tr>
  <tr>
    <td>v$_{Fe}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['v_Fe_expansion'] != None %}
          {{ event[i]['v_Fe_expansion'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>km s$^{-1}$</td> 
  </tr>
  <tr>
    <td>v$_{Si}$</td>
    <td>
      {% for i in range(event|length) %}
        {% if event[i]['v_Si_expansion'] != None %}
          {{ event[i]['v_Si_expansion'] }} <sup><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></sup><br>
            <!-- $^{{ event['d_pos_e_iso'] }}_{{ event['d_neg_e_iso'] }}$ -->
        {% endif %}
      {% endfor %}
    </td>
    <td>km s$^{-1}$</td> 
  </tr>

</table>
</div>

<!-- Table of references -->
<div>
  <table style="width:80%">
    <tr>
    <th>Footnote</th>
    <th>Reference</th> 
  </tr>

  {% for i in range(event|length) %}
    <tr>
      <td><a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{i+1}} </a></td>
      <td>{{authors[i]}} <b>{{years[i]}}</b>: <a href="{{event[i]['PrimarySources']}}" target = '_blank'>{{event[i]['PrimarySources']}} </a></td>
    </tr>    
  {% endfor %}
  </table>
  
</div>

<!-- Xray plot -->
<div>
<h2><b>Data</b></h2>
<!-- References -->

<!-- <p>{{ data }}</p> -->
<!-- The stuff to do with the X-ray plot -->

  {{ div|safe }}
  {{ script|safe }}
</div>


</body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/2.3.1/bokeh.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/2.3.1/bokeh-widgets.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/2.3.1/bokeh-tables.js"></script>



</html>
{% endblock %}
